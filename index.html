<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário e Cupom</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        form {
            max-width: 400px;
            margin: 0 auto;
        }

        label {
            display: block;
            margin-bottom: 8px;
        }

        input, button {
            margin-bottom: 16px;
        }

        #cupom {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <form id="formulario">
        <label for="nome">Nome do Serviço:</label>
        <input type="text" id="nome" required>

        <label for="comprador">Comprador:</label>
        <input type="text" id="comprador" required>
        <br>
        <button type="button" onclick="gerarCupom()">Gerar Cupom</button>
        <button type="button" onclick="limparCampos()">Limpar Campos</button>
    </form>

    <div id="cupom">
        <h2>Recibo</h2>
        <p><strong>Referente a</strong> <span id="cupomNome">.</span></p>
        <p><strong>Comprador:</strong> <span id="cupomComprador"></span></p>
        <p><strong>Data:</strong> <span id="cupomData"></span></p>

        <button onclick="imprimirCupom()">Imprimir</button>
        <button onclick="voltarFormulario()">Voltar</button>
    </div>

    <script>
        function gerarCupom() {
            const nome = document.getElementById('nome').value;
            const comprador = document.getElementById('comprador').value;
            const dataAtual = getDataAtual();

            document.getElementById('cupomNome').innerText = nome;
            document.getElementById('cupomComprador').innerText = comprador;
            document.getElementById('cupomData').innerText = dataAtual;

            document.getElementById('formulario').style.display = 'none';
            document.getElementById('cupom').style.display = 'block';
        }

        function getDataAtual() {
            const options = { day: 'numeric', month: 'numeric', year: 'numeric' };
            return new Date().toLocaleDateString('pt-BR', options);
        }

        function limparCampos() {
            document.getElementById('nome').value = '';
            document.getElementById('comprador').value = '';
            document.getElementById('dataAtual').innerText = '';
        }

        function imprimirCupom() {
            const botoes = document.querySelectorAll('#cupom button');
            botoes.forEach(botao => {
                botao.style.display = 'none';
            });
            
            print();

            setTimeout(function() {
                botoes.forEach(botao => {
                    botao.style.display = 'block';
                });
            }, 2500);
        }

        function voltarFormulario() {
            document.getElementById('cupom').style.display = 'none';
            document.getElementById('formulario').style.display = 'block';
        }
    </script>

</body>
</html>
